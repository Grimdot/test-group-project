{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,yCAKA,MAAMC,EAAc,IAAI,EAAAC,EAAAC,SAElBC,EAAMC,KAAKC,MAAMC,aAAaC,QAAQ,eAwB5CC,QAAQC,IAAIT,EAAYU,kBAAkBP,IAAMQ,MAAKC,IACnDC,QAAQC,IAAIF,GAvBK,CAAAG,IACjB,MAAMC,EAASD,EAAME,KAAIC,IACvB,MAAMC,GAAEA,EAAEC,YAAEA,EAAWC,eAAEA,GAAmBH,EAAKI,KAIjD,MAAO,iDACmCH,iEACaC,oFACpBC,0JALfE,EAAAC,EAAA,CAAON,EAAKI,KAAKG,cAAcC,OAAO,qDAUhD,IAGZb,QAAQC,IAAIE,EAAOW,KAAK,KAExB7B,EAAA8B,KAAKC,QAAQC,mBAAmB,YAAad,EAAOW,KAAK,IAAI,EAK7DI,CAAWnB,EAAE","sources":["src/js/library.js"],"sourcesContent":["import { refs } from './refs';\nimport { spinnerStart, spinnerStop } from './spinner';\nimport moviesAPI from './moviesAPI';\nimport moment from 'moment';\n\nconst filmService = new moviesAPI();\n\nconst ids = JSON.parse(localStorage.getItem('queue-list'));\n\nconst makeRender = array => {\n  const markup = array.map(item => {\n    const { id, poster_path, original_title } = item.data;\n\n    const releaseYear = moment(item.data.release_date).format('YYYY');\n\n    return `\n        <li class=\"gallery-item\" data-id = '${id}'>\n                <img src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"film poster\" class='film-poster'/>\n                <p class=\"film-name\">${original_title}</p>\n                <p class=\"film-descr\">\n                    <span class=\"film-genres\"></span> |\n                    <span class=\"film-premier\">${releaseYear}</span>\n                </p>\n        </li>`;\n  });\n\n  console.log(markup.join(''));\n\n  refs.gallery.insertAdjacentHTML('beforeend', markup.join(''));\n};\n\nPromise.all(filmService.fetcByMultipleIds(ids)).then(r => {\n  console.log(r);\n  makeRender(r);\n});\n"],"names":["$krGWQ","parcelRequire","$1cafa503bc57b7a0$var$filmService","$2EDy7","default","$1cafa503bc57b7a0$var$ids","JSON","parse","localStorage","getItem","Promise","all","fetcByMultipleIds","then","r","console","log","array","markup","map","item","id","poster_path","original_title","data","$parcel$interopDefault","$cxTnx","release_date","format","join","refs","gallery","insertAdjacentHTML","$1cafa503bc57b7a0$var$makeRender"],"version":3,"file":"library.b93959b3.js.map"}