{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,yCAKMC,EAAc,IAAI,EAAAC,EAAAC,SAElBC,EAAMC,KAAKC,MAAMC,aAAaC,QAAQ,eAwB5CC,QAAQC,IAAIT,EAAYU,kBAAkBP,IAAMQ,MAAK,SAAAC,GAtBlC,IACXC,EAsBNC,QAAQC,IAAIH,GAtBNC,EAuBKD,EAvBUI,KAAI,SAAAC,GACvB,IAA4CC,EAAAD,EAAKE,KAAzCC,EAAoCF,EAApCE,GAAIC,EAAgCH,EAAhCG,YAAaC,EAAmBJ,EAAnBI,eAEnBC,EAAcC,EAAAC,EAAA,CAAOR,EAAKE,KAAKO,cAAcC,OAAO,QAE1D,MAAO,kDAEgDC,OADbR,EAAG,kEAEVQ,OADoBP,EAAY,sFAItBO,OAHVN,EAAe,0JAGOM,OAAZL,EAAY,+C,IAK3DT,QAAQC,IAAIF,EAAOgB,KAAK,KAExB/B,EAAAgC,KAAKC,QAAQC,mBAAmB,YAAanB,EAAOgB,KAAK,I","sources":["src/js/library.js"],"sourcesContent":["import { refs } from './refs';\nimport { spinnerStart, spinnerStop } from './spinner';\nimport moviesAPI from './moviesAPI';\nimport moment from 'moment';\n\nconst filmService = new moviesAPI();\n\nconst ids = JSON.parse(localStorage.getItem('queue-list'));\n\nconst makeRender = array => {\n  const markup = array.map(item => {\n    const { id, poster_path, original_title } = item.data;\n\n    const releaseYear = moment(item.data.release_date).format('YYYY');\n\n    return `\n        <li class=\"gallery-item\" data-id = '${id}'>\n                <img src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"film poster\" class='film-poster'/>\n                <p class=\"film-name\">${original_title}</p>\n                <p class=\"film-descr\">\n                    <span class=\"film-genres\"></span> |\n                    <span class=\"film-premier\">${releaseYear}</span>\n                </p>\n        </li>`;\n  });\n\n  console.log(markup.join(''));\n\n  refs.gallery.insertAdjacentHTML('beforeend', markup.join(''));\n};\n\nPromise.all(filmService.fetcByMultipleIds(ids)).then(r => {\n  console.log(r);\n  makeRender(r);\n});\n"],"names":["$4Nugj","parcelRequire","$93effc6fc56091ad$var$filmService","$5FyuU","default","$93effc6fc56091ad$var$ids","JSON","parse","localStorage","getItem","Promise","all","fetcByMultipleIds","then","r","markup","console","log","map","item","_data","data","id","poster_path","original_title","releaseYear","$parcel$interopDefault","$jR9u2","release_date","format","concat","join","refs","gallery","insertAdjacentHTML"],"version":3,"file":"library.ab6a73b8.js.map"}