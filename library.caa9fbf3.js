function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o=a("krGWQ"),s=a("04jNI"),i=a("1dkLo"),l=a("bTcpz"),d=a("eWCmQ"),c=a("2ix2C"),f=a("eyjy7");const p=new(0,a("2EDy7").default);const g=()=>{(0,s.spinnerStart)();const e=JSON.parse(localStorage.getItem("watched-list"));if(!e)return o.refs.gallery.insertAdjacentHTML("afterbegin","<p class = 'storage-error'>This storage is empty... Yet :)</p>"),void(0,s.spinnerStop)();Promise.all(p.fetcByMultipleIds(e)).then((e=>{(0,i.lybraryRender)(e),(0,s.spinnerStop)()}))},u=()=>{(0,s.spinnerStart)();const e=JSON.parse(localStorage.getItem("queue-list"));if(!e)return o.refs.gallery.insertAdjacentHTML("afterbegin","<p class = 'storage-error'>This storage is empty... Yet :)</p>"),void(0,s.spinnerStop)();Promise.all(p.fetcByMultipleIds(e)).then((e=>{(0,i.lybraryRender)(e),(0,s.spinnerStop)()}))};u(),o.refs.gallery.addEventListener("click",(e=>{const t=e.target.parentNode.dataset.id;t&&p.fetchFilmById(t).then((e=>{l.modal.show(l.afterModalShow),(0,l.renderModal)(e.data)}))})),o.refs.headerBtns.addEventListener("click",(e=>{e.target.dataset&&("watchedBtn"===e.target.dataset.type&&g(),"queueBtn"===e.target.dataset.type&&u())})),o.refs.googleIn.addEventListener("click",c.authentificate),o.refs.googleOut.addEventListener("click",c.logOut);const y=(0,f.getAuth)();(0,f.onAuthStateChanged)(y,(t=>{t?(console.log("Im here",t),e(d).Notify.success(`Hi, ${t.displayName}`)):(console.log("im not here"),e(d).Notify.info("Bye"))}));
//# sourceMappingURL=library.caa9fbf3.js.map
